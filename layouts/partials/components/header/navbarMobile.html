<nav class="navbar mobile">
    <div class="topbar">
        <div class="logo">
            <a href="/">Vasile <span>CÃ¢mpeanu</span></a>
        </div>
        <div class="actions">
            <div class="burger-menu">
                <button id="burger" class="burger" onclick="this.classList.toggle('opened');this.setAttribute('aria-expanded', this.classList.contains('opened'))" aria-label="Mobile Menu">
                    <svg width="40" height="40" viewBox="0 0 100 100">
                        <path class="line line1" d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058" />
                        <path class="line line2" d="M 20,50 H 80" />
                        <path class="line line3" d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <div id="mobile-navbar" class="links">
        <ul>
            {{ $currentPage := . }}
            {{ range .Site.Menus.main }}
            {{ $menu_item_url := .URL | relLangURL }}
            {{ $page_url:= $currentPage.RelPermalink | relLangURL }}
            {{ $icon := default "link" .Params.Icon }}
                <li>
                    <a class="{{ if eq $menu_item_url $page_url }}active{{ end }}" href="{{ .URL | relLangURL }}">
                        <i class="{{ $icon }}"></i>{{ .Name }}
                    </a>
                </li>
            {{ end }}
        </ul>
    </div>
</nav>

<script>
    {{/*  const body = document.getElementById("body");  */}}
    let burger = document.getElementById('burger'),
    nav        = document.getElementById('mobile-navbar');
    
    burger.addEventListener('click', function(e){
        this.classList.toggle('is-open');
        nav.classList.toggle('is-open');
        body.classList.toggle('hide-overflow');
    });
</script>

<script>
    (function () {
        const links = document.getElementsByTagName('a')
        const current_url = location.href;
        const post_page = "/post";

        console.log(current_url.includes(post_page));

        if (current_url.includes(post_page)) {
            const blog_url = current_url.substring(0, current_url.lastIndexOf(post_page)) + '/';

            for (const link of links) {
                if (link.href === blog_url) {
                    link.classList.add('active')
                }
            }
        }
    }())
</script>